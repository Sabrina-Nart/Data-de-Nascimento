<!DOCTYPE html>

<html lang="pt-BR">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>FaixaEtaria</title>

        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    </head>

<body class="container">
    
    <header class="row mt-5">
        <h1 class="col-md-12 text-center">Faixa Etária</h1>
    </header>

    <section class="row">
        <div class="col-md-4 offset-4">
            <label for="dataNascimento">Informe sua data de nascimento: </label><br><br>

            <input type="date" id="dataNascimento" class="w-100">
            <h3 id="ageGroup" class="text-center mt-3"></h3>
        </div>
    </section>

    <script>
        document
            .querySelector('#dataNascimento')

            .addEventListener('change', ({ target: { value } }) => {

                const [year, month, day] = value.split('-');
                const currentDate = new Date();

                if (year > 1850) {

                    let age = currentDate.getFullYear() - year;

                    if ((currentDate.getMonth() + 1) < month) {
                        age--;
                    } else if (
                        ((currentDate.getMonth() + 1) == month) &&
                        (day > currentDate.getDate())) {
                        age--;
                    }

                    let ageGroup;

                    if (age <= 19) {
                        ageGroup = 'Jovem - Indivíduos de até 19 anos'; 
                    } else if (age >= 20 && age <= 59) {
                        ageGroup = 'Adulto - Indivíduos com idade entre 20 até 59 anos';
                    } else {
                        ageGroup = 'Idoso - Indivíduos de 60 anos em diante';
                    }

                    document.querySelector('#ageGroup').innerHTML = `Idade:${age}<br>Classificação: ${ageGroup}`;
                }
            })

    </script>
</body>

</html>